import{j as t,r as x,u as G,_,d as F}from"./index-3290c650.js";import{u as S,a as b}from"./react-spring_web.modern-20423c8f.js";const H="/assets/photo-16fcab66.png";function l(u){const{side:N,emotion:D,followCursor:g,lookAngle:y,lookDistance:d,maxLookDistance:m,eyeRotation:s,irisSize:r,pupilSize:n,style:M,irisStyle:E,pupilStyle:A}={side:"left",lookDistance:0,maxLookDistance:1,irisSize:.6,pupilSize:.25,...u},[p,k]=x.useState(y),[i,$]=x.useState(d),j={mass:.4,tension:100,friction:6},[L]=S({config:j,transform:`rotate(${p||0}deg)`},[p]),[P]=S({config:j,transform:`translate3d(0, ${(-i+r*i)*100}%, 0) scale3d(1, ${30-(i||0)*30+70}%, 1)`,top:`calc(50% - ${r*100}% / 2)`,left:`calc(50% - ${r*100}% / 2)`,width:`${r*100}%`,height:`${r*100}%`},[p,i,r]),[q]=S({config:j,transform:`translate3d(0, ${(-i+n*i)*100}%, 0) scale3d(1, ${30-(i||0)*30+70}%, 1)`,top:`calc(50% - ${n*100}% / 2)`,left:`calc(50% - ${n*100}% / 2)`,width:`${n*100}%`,height:`${n*100}%`},[p,i,n]),C=x.useRef(null);G({onMouseMove:({event:o})=>{var z;if(!g)return;const e=(z=C.current)==null?void 0:z.getBoundingClientRect();if(!e)return;const h=e.x+e.width/2,f=e.y+e.height/2,w=o.clientX-h,Y=o.clientY-f;let v=Math.atan2(Y,w)/Math.PI*180+90;const B=Math.min(I([h,f],[o.clientX,o.clientY])/(e.width/2),m||1);s!==void 0&&(v-=s),$(B),k(R=>{let a=v-(R||0)%360;return a<-180&&(a+=360),a>180&&(a-=360),(R||0)+a})}},{target:window}),x.useEffect(()=>{if(g)return;let o=y,e=d;o!==void 0&&(e||(e=m),s!==void 0&&(o-=s)),e=Math.min(d,m),k(o),$(e)},[y,d,g]);function I(o,e){return Math.sqrt(o.reduce((h,f,w)=>h+Math.pow(f-e[w],2),0))}const X=_.chain(["eye",N,D]).compact().join(" ").value();return t.jsxs("div",{className:X,ref:C,style:{...s!==void 0?{transform:`rotate(${s}deg)`}:void 0,...M},children:[t.jsxs(b.div,{className:"inner",style:L,children:[t.jsx(b.div,{className:"iris",style:{...E,...P}}),t.jsx(b.div,{className:"pupil",style:{...A,...q}})]}),t.jsx("div",{className:"highlight"})]})}function c(u){return t.jsxs("div",{className:"eyes",children:[t.jsx(l,{...u,side:"left"}),t.jsx(l,{...u,side:"right"})]})}function J(){return t.jsxs("div",{className:"eyes",style:{width:"500px",height:"300px",backgroundImage:`url(${H})`,backgroundPosition:"top center",backgroundSize:"cover",borderRadius:"0.5em"},children:[t.jsx(l,{followCursor:!0,emotion:"sad",eyeRotation:-10,pupilSize:.45,style:{position:"absolute",top:"39%",left:"34%",width:"30px",height:"30px"},irisStyle:{background:"brown"}}),t.jsx(l,{followCursor:!0,emotion:"sad",side:"right",eyeRotation:-10,irisSize:.5,pupilSize:.3,style:{position:"absolute",top:"37%",left:"41%",width:"30px",height:"30px"},irisStyle:{background:"brown"}}),t.jsx(l,{followCursor:!0,eyeRotation:10,style:{position:"absolute",top:"29%",left:"53%",width:"30px",height:"30px"}}),t.jsx(l,{followCursor:!0,side:"right",eyeRotation:10,style:{position:"absolute",top:"31%",left:"62%",width:"30px",height:"30px"}})]})}function U(){return t.jsxs("div",{className:"route eyes",children:[t.jsx(J,{}),t.jsx(F,{id:"konami",children:t.jsxs("div",{children:[t.jsx(c,{followCursor:!0,emotion:"sad",pupilSize:.3}),t.jsx(c,{followCursor:!0,irisStyle:{background:"green"}}),t.jsx(c,{followCursor:!0,emotion:"happy",pupilSize:.45,irisStyle:{background:"purple"}}),t.jsx(c,{followCursor:!0,emotion:"angry",irisSize:.4,pupilSize:.2,irisStyle:{background:"black",opacity:.8},pupilStyle:{background:"red",border:"1px solid rgba(0, 0, 0, 0.8)"}}),t.jsx(c,{followCursor:!0,emotion:"surprised",irisStyle:{background:"brown"}})]})})]})}export{U as default};
