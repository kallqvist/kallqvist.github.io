import{g as se,k as l}from"./index-f_HU91Jt.js";var y=typeof window<"u"?window:null,Q=y===null,W=Q?void 0:y.document,O="addEventListener",x="removeEventListener",J="getBoundingClientRect",N="_a",E="_b",w="_c",H="horizontal",D=function(){return!1},ze=Q?"calc":["","-webkit-","-moz-","-o-"].filter(function(s){var i=W.createElement("div");return i.style.cssText="width:"+s+"calc(9px)",!!i.style.length}).shift()+"calc",le=function(s){return typeof s=="string"||s instanceof String},ue=function(s){if(le(s)){var i=W.querySelector(s);if(!i)throw new Error("Selector "+s+" did not match a DOM element");return i}return s},v=function(s,i,u){var a=s[i];return a!==void 0?a:u},q=function(s,i,u,a){if(i){if(a==="end")return 0;if(a==="center")return s/2}else if(u){if(a==="start")return 0;if(a==="center")return s/2}return s},be=function(s,i){var u=W.createElement("div");return u.className="gutter gutter-"+i,u},Oe=function(s,i,u){var a={};return le(i)?a[s]=i:a[s]=ze+"("+i+"% - "+u+"px)",a},xe=function(s,i){var u;return u={},u[s]=i+"px",u},oe=function(s,i){if(i===void 0&&(i={}),Q)return{};var u=s,a,o,p,g,z,f;Array.from&&(u=Array.from(u));var M=ue(u[0]),A=M.parentNode,U=getComputedStyle?getComputedStyle(A):null,k=U?U.flexDirection:null,T=v(i,"sizes")||u.map(function(){return 100/u.length}),L=v(i,"minSize",100),b=Array.isArray(L)?L:u.map(function(){return L}),_=v(i,"maxSize",1/0),$=Array.isArray(_)?_:u.map(function(){return _}),m=v(i,"expandToMin",!1),h=v(i,"gutterSize",10),j=v(i,"gutterAlign","center"),X=v(i,"snapOffset",30),fe=Array.isArray(X)?X:u.map(function(){return X}),Y=v(i,"dragInterval",1),F=v(i,"direction",H),Z=v(i,"cursor",F===H?"col-resize":"row-resize"),ce=v(i,"gutter",be),ee=v(i,"elementStyle",Oe),de=v(i,"gutterStyle",xe);F===H?(a="width",o="clientX",p="left",g="right",z="clientWidth"):F==="vertical"&&(a="height",o="clientY",p="top",g="bottom",z="clientHeight");function B(r,e,t,n){var d=ee(a,e,t,n);Object.keys(d).forEach(function(c){r.style[c]=d[c]})}function ve(r,e,t){var n=de(a,e,t);Object.keys(n).forEach(function(d){r.style[d]=n[d]})}function C(){return f.map(function(r){return r.size})}function te(r){return"touches"in r?r.touches[0][o]:r[o]}function re(r){var e=f[this.a],t=f[this.b],n=e.size+t.size;e.size=r/this.size*n,t.size=n-r/this.size*n,B(e.element,e.size,this[E],e.i),B(t.element,t.size,this[w],t.i)}function ge(r){var e,t=f[this.a],n=f[this.b];this.dragging&&(e=te(r)-this.start+(this[E]-this.dragOffset),Y>1&&(e=Math.round(e/Y)*Y),e<=t.minSize+t.snapOffset+this[E]?e=t.minSize+this[E]:e>=this.size-(n.minSize+n.snapOffset+this[w])&&(e=this.size-(n.minSize+this[w])),e>=t.maxSize-t.snapOffset+this[E]?e=t.maxSize+this[E]:e<=this.size-(n.maxSize-n.snapOffset+this[w])&&(e=this.size-(n.maxSize+this[w])),re.call(this,e),v(i,"onDrag",D)(C()))}function ne(){var r=f[this.a].element,e=f[this.b].element,t=r[J](),n=e[J]();this.size=t[a]+n[a]+this[E]+this[w],this.start=t[p],this.end=t[g]}function pe(r){if(!getComputedStyle)return null;var e=getComputedStyle(r);if(!e)return null;var t=r[z];return t===0?null:(F===H?t-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight):t-=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom),t)}function ie(r){var e=pe(A);if(e===null||b.reduce(function(c,S){return c+S},0)>e)return r;var t=0,n=[],d=r.map(function(c,S){var G=e*c/100,R=q(h,S===0,S===r.length-1,j),P=b[S]+R;return G<P?(t+=P-G,n.push(0),P):(n.push(G-P),G)});return t===0?r:d.map(function(c,S){var G=c;if(t>0&&n[S]-t>0){var R=Math.min(t,n[S]-t);t-=R,G=c-R}return G/e*100})}function me(){var r=this,e=f[r.a].element,t=f[r.b].element;r.dragging&&v(i,"onDragEnd",D)(C()),r.dragging=!1,y[x]("mouseup",r.stop),y[x]("touchend",r.stop),y[x]("touchcancel",r.stop),y[x]("mousemove",r.move),y[x]("touchmove",r.move),r.stop=null,r.move=null,e[x]("selectstart",D),e[x]("dragstart",D),t[x]("selectstart",D),t[x]("dragstart",D),e.style.userSelect="",e.style.webkitUserSelect="",e.style.MozUserSelect="",e.style.pointerEvents="",t.style.userSelect="",t.style.webkitUserSelect="",t.style.MozUserSelect="",t.style.pointerEvents="",r.gutter.style.cursor="",r.parent.style.cursor="",W.body.style.cursor=""}function Se(r){if(!("button"in r&&r.button!==0)){var e=this,t=f[e.a].element,n=f[e.b].element;e.dragging||v(i,"onDragStart",D)(C()),r.preventDefault(),e.dragging=!0,e.move=ge.bind(e),e.stop=me.bind(e),y[O]("mouseup",e.stop),y[O]("touchend",e.stop),y[O]("touchcancel",e.stop),y[O]("mousemove",e.move),y[O]("touchmove",e.move),t[O]("selectstart",D),t[O]("dragstart",D),n[O]("selectstart",D),n[O]("dragstart",D),t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.MozUserSelect="none",t.style.pointerEvents="none",n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.MozUserSelect="none",n.style.pointerEvents="none",e.gutter.style.cursor=Z,e.parent.style.cursor=Z,W.body.style.cursor=Z,ne.call(e),e.dragOffset=te(r)-e.end}}T=ie(T);var I=[];f=u.map(function(r,e){var t={element:ue(r),size:T[e],minSize:b[e],maxSize:$[e],snapOffset:fe[e],i:e},n;if(e>0&&(n={a:e-1,b:e,dragging:!1,direction:F,parent:A},n[E]=q(h,e-1===0,!1,j),n[w]=q(h,!1,e===u.length-1,j),k==="row-reverse"||k==="column-reverse")){var d=n.a;n.a=n.b,n.b=d}if(e>0){var c=ce(e,F,t.element);ve(c,h,e),n[N]=Se.bind(n),c[O]("mousedown",n[N]),c[O]("touchstart",n[N]),A.insertBefore(c,t.element),n.gutter=c}return B(t.element,t.size,q(h,e===0,e===u.length-1,j),e),e>0&&I.push(n),t});function ae(r){var e=r.i===I.length,t=e?I[r.i-1]:I[r.i];ne.call(t);var n=e?t.size-r.minSize-t[w]:r.minSize+t[E];re.call(t,n)}f.forEach(function(r){var e=r.element[J]()[a];e<r.minSize&&(m?ae(r):r.minSize=e)});function he(r){var e=ie(r);e.forEach(function(t,n){if(n>0){var d=I[n-1],c=f[d.a],S=f[d.b];c.size=e[n-1],S.size=t,B(c.element,c.size,d[E],c.i),B(S.element,S.size,d[w],S.i)}})}function ye(r,e){I.forEach(function(t){if(e!==!0?t.parent.removeChild(t.gutter):(t.gutter[x]("mousedown",t[N]),t.gutter[x]("touchstart",t[N])),r!==!0){var n=ee(a,t.a.size,t[E]);Object.keys(n).forEach(function(d){f[t.a].element.style[d]="",f[t.b].element.style[d]=""})}})}return{setSizes:he,getSizes:C,collapse:function(e){ae(f[e])},destroy:ye,parent:A,pairs:I}};function K(s,i){var u={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.indexOf(a)===-1&&(u[a]=s[a]);return u}var V=function(s){function i(){s.apply(this,arguments)}return s&&(i.__proto__=s),i.prototype=Object.create(s&&s.prototype),i.prototype.constructor=i,i.prototype.componentDidMount=function(){var a=this.props;a.children;var o=a.gutter,p=K(a,["children","gutter"]),g=p;g.gutter=function(z,f){var M;return o?M=o(z,f):(M=document.createElement("div"),M.className="gutter gutter-"+f),M.__isSplitGutter=!0,M},this.split=oe(this.parent.children,g)},i.prototype.componentDidUpdate=function(a){var o=this,p=this.props;p.children;var g=p.minSize,z=p.sizes,f=p.collapsed,M=K(p,["children","minSize","sizes","collapsed"]),A=M,U=a.minSize,k=a.sizes,T=a.collapsed,L=["maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor"],b=L.map(function(m){return o.props[m]!==a[m]}).reduce(function(m,h){return m||h},!1);if(Array.isArray(g)&&Array.isArray(U)){var _=!1;g.forEach(function(m,h){_=_||m!==U[h]}),b=b||_}else Array.isArray(g)||Array.isArray(U)?b=!0:b=b||g!==U;if(b)A.minSize=g,A.sizes=z||this.split.getSizes(),this.split.destroy(!0,!0),A.gutter=function(m,h,j){return j.previousSibling},this.split=oe(Array.from(this.parent.children).filter(function(m){return!m.__isSplitGutter}),A);else if(z){var $=!1;z.forEach(function(m,h){$=$||m!==k[h]}),$&&this.split.setSizes(this.props.sizes)}Number.isInteger(f)&&(f!==T||b)&&this.split.collapse(f)},i.prototype.componentWillUnmount=function(){this.split.destroy(),delete this.split},i.prototype.render=function(){var a=this,o=this.props;o.sizes,o.minSize,o.maxSize,o.expandToMin,o.gutterSize,o.gutterAlign,o.snapOffset,o.dragInterval,o.direction,o.cursor,o.gutter,o.elementStyle,o.gutterStyle,o.onDrag,o.onDragStart,o.onDragEnd,o.collapsed;var p=o.children,g=K(o,["sizes","minSize","maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor","gutter","elementStyle","gutterStyle","onDrag","onDragStart","onDragEnd","collapsed","children"]),z=g;return se.createElement("div",Object.assign({},{ref:function(f){a.parent=f}},z),p)},i}(se.Component);V.propTypes={sizes:l.arrayOf(l.number),minSize:l.oneOfType([l.number,l.arrayOf(l.number)]),maxSize:l.oneOfType([l.number,l.arrayOf(l.number)]),expandToMin:l.bool,gutterSize:l.number,gutterAlign:l.string,snapOffset:l.oneOfType([l.number,l.arrayOf(l.number)]),dragInterval:l.number,direction:l.string,cursor:l.string,gutter:l.func,elementStyle:l.func,gutterStyle:l.func,onDrag:l.func,onDragStart:l.func,onDragEnd:l.func,collapsed:l.number,children:l.arrayOf(l.element)};V.defaultProps={sizes:void 0,minSize:void 0,maxSize:void 0,expandToMin:void 0,gutterSize:void 0,gutterAlign:void 0,snapOffset:void 0,dragInterval:void 0,direction:void 0,cursor:void 0,gutter:void 0,elementStyle:void 0,gutterStyle:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0,collapsed:void 0,children:void 0};const De=V;export{De as S};
