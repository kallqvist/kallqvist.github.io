(self.webpackChunkapp=self.webpackChunkapp||[]).push([[596],{7086:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return y}});var r=t(4942),a=t(1413),c=t(9439),u=t(2791),i=t(763),o=t.n(i),s=t(4916),l=t(8211),f=t(4379),v=t(1205);function d(e){var n=(e||{}).config,t=(0,u.useMemo)((function(){return(0,f.U)(v.$,n)}),[n]);return{math:t,runExpression:function(e,n){if(e&&n)try{return o().isArray(n)?o().map(n,(function(n){return t.evaluate(e,n)})):t.evaluate(e,n)}catch(r){console.error(r)}}}}var h={debounce:1e3},p=t(3433),m=t(184);function Z(e){var n=e.values,t=e.children,r=e.colors;return(0,m.jsx)("div",{className:"band",style:function(){if(0!==n.length&&!(n.reduce((function(e,n){return e+n}))<=0)){var e=["conic-gradient("],t=0;return n.forEach((function(n,a){var c=r&&r[a]||"hsl(".concat(360*Math.random(),", 100%, ").concat(80*Math.random()+20,"%)");0===a?e.push("".concat(c,", ").concat(c," ").concat(n,"turn, ")):e.push("".concat(c," ").concat(t,"turn, ").concat(c," ").concat(t+n,"turn, ")),t+=n})),e.push("transparent ".concat(t,"turn)")),{background:e.join("")}}}(),children:t})}function x(e){var n=e.values,t=e.colors,r=e.max,a=e.style;function c(e){var n=e.toFixed(2);return n.endsWith(".00")&&(n=n.slice(0,-3)),n}return(0,m.jsx)("div",{className:"progress-circle",style:a,children:function(){for(var e=n?n.reduce((function(e,n){return e+n})):0,a=Math.max(Math.ceil(e),Math.ceil(r||1)),u=(0,m.jsxs)("div",{className:"band center",children:[(0,m.jsx)("div",{className:"value",children:c(e)}),(0,m.jsxs)("div",{className:"max",children:["/ ",c(a)]})]}),i=(0,p.Z)(n||[]),o=(0,p.Z)(t||[]),s=function(e){var n=0,t=void 0,r=void 0;i.every((function(e,a){return e>=1?(t=[1],r=o.slice(0,a+1),i=[e-1].concat((0,p.Z)(i.slice(a+1))),!1):n+e>=1?(t=i.slice(0,a+1),i=i.slice(a+1),r=o.slice(0,a+1),o=o.slice(a+1),!1):void(n+=e)})),void 0===t&&(t=i,r=o,i=[]),u=(0,m.jsx)(Z,{values:t,colors:r,children:u})},l=0;l<a;l++)s();return u}()})}var g=t(7054);function y(){var e=["red","orange","yellow","cornflowerblue","purple","lightgreen","green"],n=(0,u.useState)({group:"floor(x / 10)",value:"x / 10"}),t=(0,c.Z)(n,2),i=t[0],f=t[1],v=(0,u.useState)((function(){return o().chain(o().range(500)).map((function(e){return{x:e,y:o().sample(o().range(10))}})).value()})),p=(0,c.Z)(v,2),Z=p[0],y=(p[1],(0,u.useState)([])),j=(0,c.Z)(y,2),b=(j[0],j[1]),E=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h,r=(0,a.Z)((0,a.Z)({},h),t),i=r.debounce,s=r.mathConfig,f=(0,u.useState)(e),v=(0,c.Z)(f,2),p=v[0],m=v[1],Z=(0,u.useState)(e),x=(0,c.Z)(Z,2),g=x[0],y=x[1],j=(0,u.useState)(n),b=(0,c.Z)(j,2),E=b[0],N=b[1],w=(0,u.useState)(!1),S=(0,c.Z)(w,2),k=S[0],M=S[1],P=(0,u.useState)(),C=(0,c.Z)(P,2),q=C[0],z=C[1],B=d({config:s}).runExpression,A=(0,l.Z)((function(){var e=o().chain(p).toPairs().filter((function(e){var n=(0,c.Z)(e,2),t=n[0],r=n[1];return!k||g[t]!==r})).fromPairs().value();0!==o().keys(e).length&&z((function(n){if(E&&p)return y((function(n){return(0,a.Z)((0,a.Z)({},n),e)})),M(!0),o().chain(E).map((function(t,r){return(0,a.Z)((0,a.Z)((0,a.Z)({},t),n?n[r]:void 0),o().chain(e).toPairs().map((function(e){var n=(0,c.Z)(e,2),r=n[0],a=n[1];return[r,B(a,t)]})).fromPairs().value())})).value()}))}),i),F=(0,c.Z)(A,3),U=(F[0],F[1],F[2]);return(0,u.useEffect)((function(){o().isEqual(p,e)||m(e)}),[e]),(0,u.useEffect)((function(){o().isEqual(E,n)||(M(!1),N(n))}),[n]),(0,u.useEffect)((function(){U()}),[p,E]),q}(i,Z);return(0,u.useEffect)((function(){var n=o().chain(E).groupBy("group").toPairs().slice(0,1e3).map((function(n){var t=(0,c.Z)(n,2),r=t[0],a=t[1],u=o().sumBy(a,(function(e){return e.value||0}));return{label:r,rows:o().chain(a).map((function(n,t){if(n.value)return{value:n.value/u,color:o().get(e,t)||o().sample(e)}})).compact().value()}})).value();b(n)}),[Z,E]),(0,m.jsx)("div",{className:"route circle",children:(0,m.jsxs)(s.Z,{direction:"horizontal",sizes:[80,20],className:"split-container",style:{position:"absolute",width:"100%",height:"100%",display:"flex"},children:[(0,m.jsx)("div",{className:"content",children:(0,m.jsx)(x,{values:[1.2,.05],colors:["greenyellow","red"],style:{width:"100px",height:"100px"}})}),(0,m.jsxs)("div",{className:"sidebar",children:[o().chain(i).toPairs().map((function(e){var n=(0,c.Z)(e,2),t=n[0],u=n[1];return(0,m.jsxs)("div",{children:[t,": ",(0,m.jsx)("input",{type:"text",value:u,onChange:function(e){return f((function(n){return(0,a.Z)((0,a.Z)({},n),{},(0,r.Z)({},t,e.target.value))}))}})]},t)})).value(),E?(0,m.jsx)(g.gc,{data:E,style:g._l}):null]})]})})}},5042:function(){}}]);
//# sourceMappingURL=596.4b890541.chunk.js.map