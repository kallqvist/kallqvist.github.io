"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[756],{6756:function(e,t,n){n.r(t),n.d(t,{RouteDeck:function(){return y},default:function(){return Z}});var a=n(7689),r=n(1413),i=n(2791),c=n(1813),s=n(7616),o=n(9373),u=n(184);function d(e){var t=e.children,n=e.style,a=(0,i.useRef)(new s.QW),d=(0,i.useRef)();function l(){}return(0,i.useEffect)((function(){var e="my room",t="abc",n="some guy",i=a.current,c=(0,r.Z)({signaling:[]},t?{password:t}:void 0),s=new o.x$(e,i,c);s.awareness.on("update",l);var u={name:n};return s.awareness.setLocalState(u),d.current=s.awareness,function(){s.destroy()}}),[]),(0,u.jsx)("div",{className:"table",style:n,children:(0,u.jsx)(c.LB,{onDragStart:function(e){console.log("drag start",e)},onDragEnd:function(e){},children:t})})}var l=n(9439),f=n(763),v=n.n(f),h=n(3433);function m(e){for(var t,n=1779033703,a=3144134277,r=1013904242,i=2773480762,c=0;c<e.length;c++)t=e.charCodeAt(c),n=a^Math.imul(n^t,597399067),a=r^Math.imul(a^t,2869860233),r=i^Math.imul(r^t,951274213),i=n^Math.imul(i^t,2716044179);return[((n=Math.imul(r^n>>>18,597399067))^(a=Math.imul(i^a>>>22,2869860233))^(r=Math.imul(n^r>>>17,951274213))^(i=Math.imul(a^i>>>19,2716044179)))>>>0,(a^n)>>>0,(r^n)>>>0,(i^n)>>>0]}function p(e,t,n,a){return function(){var r=(e>>>=0)+(t>>>=0)|0;return e=t^t>>>9,t=(n>>>=0)+(n<<3)|0,n=(n=n<<21|n>>>11)+(r=r+(a=(a>>>=0)+1|0)|0)|0,(r>>>0)/4294967296}}var g=n(4139);function x(e){var t=e.id,n=e.children,a=e.offset,s=e.rotation,o=e.style,d=(0,c.O1)({id:t,data:e}),f=d.isDragging,h=d.attributes,m=d.listeners,p=d.transform,x=d.setNodeRef,j=(0,i.useState)(!1),y=(0,l.Z)(j,2),Z=y[0],w=y[1],M=(0,g.useSpring)((function(){var e=a||[0,0],t=(0,l.Z)(e,2),n=t[0],r=t[1];return{config:{mass:2,tension:600,friction:50},transform:v().chain([p?"translate3d(".concat(p.x+n,"px, ").concat(p.y+r,"px, 0px)"):"translate3d(".concat(n,"px, ").concat(r,"px, 0px)"),f?"scaleX(".concat(1.1,") scaleY(").concat(1.1,")"):"scaleX(1) scaleY(1)",v().isNumber(s)?"rotate(".concat(s,"deg)"):"rotate(0deg)"]).compact().join(" ").value(),onStart:function(){return w(!0)},onRest:function(){return w(!1)}}}),[p,f,a,s]),N=(0,l.Z)(M,1)[0],b=v().chain(["card",f||Z?"dragging":void 0]).compact().join(" ").value();return(0,u.jsxs)(g.animated.div,(0,r.Z)((0,r.Z)((0,r.Z)({ref:x,className:b,style:o?(0,r.Z)((0,r.Z)({},N),o):N},m),h),{},{children:[(0,u.jsx)("div",{className:"back"}),(0,u.jsx)("div",{className:"front",children:n})]}))}function j(e){var t=e.id,n=e.cards,a=e.cardOffset,s=e.cardMess,o=e.style,d=[0,20],f=(0,c.Zj)({id:t}),g=f.isOver,j=(f.rect,f.setNodeRef),y=(0,i.useState)([]),Z=(0,l.Z)(y,2),w=Z[0],M=Z[1],N=(0,i.useState)([]),b=(0,l.Z)(N,2),k=b[0],R=b[1];(0,i.useEffect)((function(){var e=v().map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=m(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"seed"),n=p.apply(void 0,(0,h.Z)(t));return v().map(v().range(0,e),(function(){return n()}))}((null===n||void 0===n?void 0:n.length)||0,t),(function(e){return(2*e-1)*(s||10)}));R(e);var r=v().chain(n).map((function(e,t){return v().chain([e.offset,void 0!==a?[a[0]*t,a[1]*t]:void 0,[d[0]*t,d[1]*t]]).compact().first().value()})).value();M(r)}),[t,n,a,s]);var S=v().chain(["pile",g?"active":void 0]).compact().join(" ").value();return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("div",{ref:j,className:S,style:o,children:n?n.map((function(e,t){var n=w[t]||[0,0],a=e.rotation||v().get(k,t)||0;return(0,u.jsx)(x,(0,r.Z)((0,r.Z)({},e),{},{offset:n,rotation:a,style:{position:"absolute",top:"1em",left:"1em"}}),e.id)})):null})})}function y(){(0,a.TH)();return(0,u.jsx)("div",{className:"route deck",children:(0,u.jsxs)(d,{style:{display:"flex",gap:"0.5em",aspectRatio:"16/9",width:"auto",height:"100%",maxWidth:"100%",justifyContent:"space-evenly",alignItems:"center"},children:[(0,u.jsx)(j,{id:"pile-1",cards:[{id:"card-3",children:"C"},{id:"card-4",children:"D"},{id:"card-5",children:"E"},{id:"card-6",children:"F"}]}),(0,u.jsx)(j,{id:"pile-2",cards:[{id:"card-7",children:"G"}]}),(0,u.jsx)(j,{id:"pile-3"})]})})}var Z=y}}]);
//# sourceMappingURL=756.0ca07704.chunk.js.map