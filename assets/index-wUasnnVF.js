import{r as m,u as F,_ as H,j as r}from"./index-7oyLkAmy.js";import{u as x,a as y}from"./react-spring_web.modern-g3EFwlpH.js";function T(M){const{side:A,emotion:E,followCursor:h,lookAngle:p,lookDistance:l,maxLookDistance:g,eyeRotation:n,irisSize:o,pupilSize:a,simple:L,style:N,irisStyle:z,pupilStyle:R,onClick:X}={side:"left",lookDistance:0,maxLookDistance:1,irisSize:.6,pupilSize:.25,...M},[u,$]=m.useState(p),[e,k]=m.useState(l),v={mass:.4,tension:100,friction:6},[Y]=x({config:v,transform:`rotate(${u||0}deg)`},[u]),[b]=x({config:v,transform:`translate3d(0, ${(-e+o*e)*100}%, 0) scale3d(1, ${30-(e||0)*30+70}%, 1)`,top:`calc(50% - ${o*100}% / 2)`,left:`calc(50% - ${o*100}% / 2)`,width:`${o*100}%`,height:`${o*100}%`},[u,e,o]),[q]=x({config:v,transform:`translate3d(0, ${(-e+a*e)*100}%, 0) scale3d(1, ${30-(e||0)*30+70}%, 1)`,top:`calc(50% - ${a*100}% / 2)`,left:`calc(50% - ${a*100}% / 2)`,width:`${a*100}%`,height:`${a*100}%`},[u,e,a]),S=m.useRef(null);F({onClick:j,onMouseMove:j},{target:window}),m.useEffect(()=>{if(h)return;let s=p,t=l;s!==void 0&&(t||(t=g),n!==void 0&&(s-=n)),t=Math.min(l,g),$(s),k(t)},[p,l,h]);function j(s){var C;const{event:t}=s;if(!h)return;const i=(C=S.current)==null?void 0:C.getBoundingClientRect();if(!i)return;const d=i.x+i.width/2,f=i.y+i.height/2,I=t.clientX-d,P=t.clientY-f;let w=Math.atan2(P,I)/Math.PI*180+90;const _=Math.min(B([d,f],[t.clientX,t.clientY])/(i.width/2),g||1);n!==void 0&&(w-=n),k(_),$(D=>{let c=w-(D||0)%360;return c<-180&&(c+=360),c>180&&(c-=360),(D||0)+c})}function B(s,t){return Math.sqrt(s.reduce((i,d,f)=>i+Math.pow(d-t[f],2),0))}const G=H.chain(["eye",L?"simple":void 0,A,E]).compact().join(" ").value();return r.jsxs("div",{ref:S,className:G,onClick:X,style:{...n!==void 0?{transform:`rotate(${n}deg)`}:void 0,...N},children:[r.jsxs(y.div,{className:"inner",style:Y,children:[r.jsx(y.div,{className:"iris",style:{...z,...b}}),r.jsx(y.div,{className:"pupil",style:{...R,...q}})]}),r.jsx("div",{className:"highlight"})]})}export{T as E};
