var x=Object.defineProperty;var m=(e,i,t)=>i in e?x(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t;var l=(e,i,t)=>(m(e,typeof i!="symbol"?i+"":i,t),t),g=(e,i,t)=>{if(!i.has(e))throw TypeError("Cannot "+t)};var d=(e,i,t)=>{if(i.has(e))throw TypeError("Cannot add the same private member more than once");i instanceof WeakSet?i.add(e):i.set(e,t)};var c=(e,i,t)=>(g(e,i,"access private method"),t);import{r as w,j as o,s as j,t as z}from"./index-J3dNsBoJ.js";import{S as R,e as C,n as S,V as h,G as b,b as y}from"./index-HvhOeIDh.js";import"./react-spring_web.modern-75KWeOyp.js";class u extends b{constructor(t,n){super(t);l(this,"wall");this.wall=n||!1}getRGBA(){return this.wall?[255,0,100,255]:[0,0,0,0]}}var a,f;class E extends R{constructor(){super(...arguments);d(this,a)}createGrid(t){return new C({...t,createEmpty:r=>new u(r)})}clear(){this.grid.forEach(t=>this.grid.setAtIndex(t.index,new u(this.grid,Math.random()>.55)));for(let t=0;t<20;t++)this.step()}step(){const t=this.grid.map(n=>n.wall);this.grid.forEach(n=>{const r=c(this,a,f).call(this,t,n);n.wall!==r&&this.grid.setAtIndex(n.index,new u(this.grid,r))})}}a=new WeakSet,f=function(t,n){let r=0;return n.position.x===0||n.position.x===this.grid.size.x-1||n.position.y===0||n.position.y===this.grid.size.y-1?!0:(S.forEach(s=>{const p=this.grid.position2index(h.add(n.position,s));t[p]===!0&&r++}),r<4?!1:r>4?!0:n.wall)};function I(){const e=h.create(160,90),i=w.useRef(null);function t(){const s=new E({gridOptions:{size:e}});return s.clear(),s}function n(s){s.preventDefault()}function r(){const s=i.current;s&&s.clear()}return o.jsxs("div",{className:"route maze",children:[o.jsxs("div",{style:{position:"absolute",top:0,width:"100%",display:"flex",justifyContent:"center",background:"black",color:"white",zIndex:100},children:[o.jsxs("button",{onClick:()=>{var s;return(s=i.current)==null?void 0:s.step(1)},children:[o.jsx(j,{}),"step"]}),o.jsxs("button",{onClick:()=>r(),children:[o.jsx(z,{}),"reset"]})]}),o.jsx(y,{ref:i,isRunning:!1,initSimulation:t,onContextMenu:n})]})}export{I as default};
