var h=Object.defineProperty;var m=(i,t,e)=>t in i?h(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var u=(i,t,e)=>(m(i,typeof t!="symbol"?t+"":t,e),e),x=(i,t,e)=>{if(!t.has(i))throw TypeError("Cannot "+e)};var l=(i,t,e)=>{if(t.has(i))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(i):t.set(i,e)};var d=(i,t,e)=>(x(i,t,"access private method"),e);import{r as w,j as o,m as g,n as j}from"./index-v6eTjaTZ.js";import{S as z,c as C,n as R,G as S,V as b,b as y}from"./index-iyocA4e0.js";import"./react-spring_web.modern-5WTIYr7Q.js";class c extends S{constructor(e,n){super(e);u(this,"wall");this.wall=n||!1}getRGBA(){return this.wall?[255,0,100,255]:[0,0,0,0]}}var a,f;class G extends z{constructor(){super(...arguments);l(this,a)}createGrid(e){return new C({...e,createEmpty:n=>new c(n)})}step(e){const n=this.grid.map(r=>r.wall);this.grid.forEach(r=>{const s=d(this,a,f).call(this,n,r);r.wall!==s&&this.grid.setAtIndex(r.index,new c(this.grid,s))})}}a=new WeakSet,f=function(e,n){let r=0;return n.position.x===0||n.position.x===this.grid.size.x-1||n.position.y===0||n.position.y===this.grid.size.y-1||(R.forEach(s=>{const p=this.grid.position2index(n.position.add(s));e[p]===!0&&r++}),r<4)?!0:r>4?!1:n.wall};function D(){const i=b.create(160,90),t=w.useRef(null);function e(){return new G({gridOptions:{size:i}})}function n(s){s.preventDefault()}function r(){const s=t.current;s&&s.clear()}return o.jsxs("div",{className:"route maze",children:[o.jsxs("div",{style:{position:"absolute",top:0,width:"100%",display:"flex",justifyContent:"center",background:"black",color:"white",zIndex:100},children:[o.jsxs("button",{onClick:()=>{var s;return(s=t.current)==null?void 0:s.step(1)},children:[o.jsx(g,{}),"step"]}),o.jsxs("button",{onClick:()=>r(),children:[o.jsx(j,{}),"reset"]})]}),o.jsx(y,{ref:t,initSimulation:e,onContextMenu:n})]})}export{D as default};
