var h=Object.defineProperty;var m=(e,t,i)=>t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var u=(e,t,i)=>(m(e,typeof t!="symbol"?t+"":t,i),i),x=(e,t,i)=>{if(!t.has(e))throw TypeError("Cannot "+i)};var l=(e,t,i)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,i)};var d=(e,t,i)=>(x(e,t,"access private method"),i);import{r as w,j as o,t as g,m as j}from"./index-COOtj4om.js";import{S as z,b as C,n as R,G as S,a as b,V as y}from"./index-Tca5aj77.js";import"./react-spring_web.modern-77sU6bKG.js";class c extends S{constructor(i,n){super(i);u(this,"wall");this.wall=n||!1}getRGBA(){return this.wall?[255,0,100,255]:[0,0,0,0]}}var a,f;class G extends z{constructor(){super(...arguments);l(this,a)}createGrid(i){return new C({...i,createEmpty:n=>new c(n)})}step(i){const n=this.grid.map(r=>r.wall);this.grid.forEach(r=>{const s=d(this,a,f).call(this,n,r);r.wall!==s&&this.grid.setAtIndex(r.index,new c(this.grid,s))})}}a=new WeakSet,f=function(i,n){let r=0;return n.position.x===0||n.position.x===this.grid.size.x-1||n.position.y===0||n.position.y===this.grid.size.y-1||(R.forEach(s=>{const p=this.grid.position2index(n.position.add(s));i[p]===!0&&r++}),r<4)?!0:r>4?!1:n.wall};function D(){const e=new y(160,90),t=w.useRef(null);function i(){return new G({gridOptions:{size:e}})}function n(s){s.preventDefault()}function r(){const s=t.current;s&&s.restart()}return o.jsxs("div",{className:"route maze",children:[o.jsxs("div",{style:{position:"absolute",top:0,width:"100%",display:"flex",justifyContent:"center",background:"black",color:"white",zIndex:100},children:[o.jsxs("button",{onClick:()=>{var s;return(s=t.current)==null?void 0:s.step(1)},children:[o.jsx(g,{}),"step"]}),o.jsxs("button",{onClick:()=>r(),children:[o.jsx(j,{}),"reset"]})]}),o.jsx(b,{ref:t,initSimulation:i,onContextMenu:n})]})}export{D as default};
